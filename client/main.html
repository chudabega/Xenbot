<head>
  <title>testbed</title>
</head>

<body>
  {{> dragList}}
</body>

<template name="dragList">
  <div id='itemMenu' class="panel row">
    Element Menu
    {{#each items}}
      {{#if compare type 'container'}}
        <div class="panelGrab row" type="{{type}}">
          {{name}}
          <div class="panel col" type="{{type}}">
          </div>
        </div>
      {{else}}
        <div class="element" type="{{type}}">{{name}}</div>
      {{/if}}
    {{/each}}
    <button name='create'>Create</button>
  </div>

  <div class='list panel'>
    {{#each elements}}
      {{>element}}
    {{/each}}
  </div>
</template>

<template name="element">
  {{#if compare type 'container'}}
    <div class="panelGrab row" _id="{{_id}}" type="{{type}}">
      <div class='id'>{{_id}}</div>
      <div class="panel col" _id="{{_id}}" type="{{type}}">
        {{#if elements.length}}
          {{#each elements}}
            {{>element}}
          {{/each}}
        {{/if}}
      </div>
    </div>
  {{else}}
    <div class='element listEle' _id="{{_id}}" type="{{type}}">
      <div class='listHeader'>
        <strong>Type: </strong>
        <select name='element' value='{{elementId}}'>
        {{#let parId=elementId}}
          {{#each eleItems}}
            <option value='{{elementId}}' selected='{{#if compare elementId parId}}true{{/if}}'>{{elementName}}</option>
          {{/each}}
        {{/let}}
        </select>
        <div class='id'>{{_id}}</div>
      </div>
      <div class='listBody'>
        <div class='listContent'>
          <div class='row'>
            <div class='col-xs-12 col-md-2'>
              <div class='row'>
                <label class="col-xs-4 col-md-12 control-label">
                  ID:
                </label>
                <div class='col-xs-8 col-md-12 textContainer'>
                  <input name='id' type='text' value='{{id}}'/>
                </div>
              </div>
            </div>
            <div class='col-xs-12 col-md-2'>
              <div class='row'>
                <label class="col-xs-4 col-md-12 control-label">
                  Label:
                </label>
                <div class='col-xs-8 col-md-12 textContainer'>
                  <input name='label' type='text' value='{{label}}'/>
                </div>
              </div>
            </div>
            <div class='col-xs-12 col-md-4'>
              <div class='row'>
                <label class="col-xs-4 col-md-12 control-label">
                  Value:
                </label>
                <div class='col-xs-8 col-md-12 textContainer'>
                  <input name='value' type='text' value='{{value}}'/>
                </div>
              </div>
            </div>
            <!-- <div class='col-xs-12 col-md-4'>
              <div class='row'>
                <label class="col-xs-4 col-md-12 control-label">
                  Banana:
                </label>
                <div class='col-xs-8 col-md-12 textContainer'>
                  Potato
                </div>
              </div>
            </div> -->
          </div>
        </div>
      </div>
      <div class='listFooter'>
      </div>
    </div>
  {{/if}}
</template>